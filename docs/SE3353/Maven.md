注意编译器版本

在`property`这个i部分
```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.example</groupId>
    <artifactId>se3353_2_kafkasample</artifactId>
    <version>1.0-SNAPSHOT</version>

    <properties>
        <maven.compiler.source>19</maven.compiler.source>
        <maven.compiler.target>19</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <dependencies>
        <!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients -->
        <dependency>
            <groupId>org.apache.kafka</groupId>
            <artifactId>kafka-clients</artifactId>
            <version>3.5.1</version>
        </dependency>
        <!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api -->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-simple</artifactId>
            <version>2.0.9</version>
        </dependency>
    </dependencies>

</project>
```

```
`pom.xml` contains the Project Object Model (POM) for this project. The POM is the basic unit of work in Maven. This is important to remember because Maven is inherently project-centric in that everything revolves around the notion of a project. In short, the POM contains every important piece of information about your project and is essentially one-stop-shopping for finding anything related to your project. Understanding the POM is important and new users are encouraged to refer to the [Introduction to the POM](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html).

This is a very simple POM but still displays the key elements every POM contains, so let's walk through each of them to familiarize you with the POM essentials:

- **project** This is the top-level element in all Maven `pom.xml` files.
- **modelVersion** This element indicates what version of the object model this POM is using. The version of the model itself changes very infrequently but it is mandatory in order to ensure stability of use if and when the Maven developers deem it necessary to change the model.
- **groupId** This element indicates the unique identifier of the organization or group that created the project. The groupId is one of the key identifiers of a project and is typically based on the fully qualified domain name of your organization. For example `org.apache.maven.plugins` is the designated groupId for all Maven plugins.
- **artifactId** This element indicates the unique base name of the primary artifact being generated by this project. The primary artifact for a project is typically a JAR file. Secondary artifacts like source bundles also use the artifactId as part of their final name. A typical artifact produced by Maven would have the form <artifactId>-<version>.<extension> (for example, `myapp-1.0.jar`).
- **version** This element indicates the version of the artifact generated by the project. Maven goes a long way to help you with version management and you will often see the `SNAPSHOT` designator in a version, which indicates that a project is in a state of development. We will discuss the use of [snapshots](https://maven.apache.org/guides/getting-started/index.html#what-is-a-snapshot-version) and how they work further on in this guide.
- **name** This element indicates the display name used for the project. This is often used in Maven's generated documentation.
- **url** This element indicates where the project's site can be found. This is often used in Maven's generated documentation.
- **properties** This element contains value placeholders accessible anywhere within a POM.
- **dependencies** This element's children list [dependencies](https://maven.apache.org/pom.html#dependencies). The cornerstone of the POM.
- **build** This element handles things like declaring your project's directory structure and managing plugins.
```

Change to the directory where `pom.xml` is created by archetype:generate and execute the following command to compile your application sources:

mvn compile

# Dependency

好的，下面是关于Maven依赖配置的详细总结：

### 1. 依赖配置基本结构

在Maven的`pom.xml`文件中，依赖项是在`<dependencies>`标签下定义的。每个依赖项至少需要四个元素：

- **`groupId`**：依赖库的组织标识。
- **`artifactId`**：依赖库的名称。
- **`version`**：依赖库的版本。
- **`scope`**：依赖库的使用范围，如`compile`（编译时）、`test`（测试时）等。

### 2. 本地与远程仓库

Maven首先会在你的本地仓库（默认位置为`${user.home}/.m2/repository`）中查找依赖项。如果找不到，Maven会自动从远程仓库（如 Maven Central）下载所需的依赖。

### 3. 添加新依赖

要添加新依赖，比如`log4j`，需要查找它的`groupId`、`artifactId`和`version`。这些信息可以通过访问Maven中央仓库中相应的目录和文件（如`maven-metadata.xml`）获得。

### 4. 自动处理依赖

一旦在`pom.xml`中定义了依赖，Maven会在项目构建时自动下载和链接这些依赖。你只需运行相应的构建命令（例如`mvn compile`），Maven会处理所有的依赖关系。

通过这种方式，Maven使得项目管理和依赖管理变得高效而简洁。

# 如何创建Kafka Topic？


# 如何发送和监听

```java
@RestController
public class BankController {
  @Autowired 
  private KafkaTemplate<String, String> kafkaTemplate;
  @RequestMapping("/send")
  public void send() {
    String data = "Tom,Jerry,80";
    kafkaTemplate.send("topic1", "key", data);
    System.out.println(data);
  }
}
```

```java
CompletableFuture<SendResult<K, V>> send(String topic, K key, V data);
```
## Listener
```java
@Component
public class BankListener {
    @Autowired
    private BankService bankService;
    @Autowired
    private KafkaTemplate<String, String> kafkaTemplate;

	// 处理请求
    @KafkaListener(topics = "topic1", groupId = "group_topic_test")
    public void topic1Listener(ConsumerRecord<String, String> record) {
        String[] value = record.value().split(",");
        bankService.transfer(value[0], value[1], Integer.valueOf(value[2]));
        // 发给另一个Topic
        kafkaTemplate.send("topic2",  "key", "Done");
    }

	// 导出结果
    @KafkaListener(topics = "topic2", groupId = "group_topic_test")
    public void topic2Listener(ConsumerRecord<String, String> record) {
        String value = record.value();
        System.out.println(value);
    }
}

```

`ConsumerRecord`是什么类型？
https://potoyang.gitbook.io/spring-in-action-v5/di-8-zhang-fa-song-yi-bu-xiao-xi/8.3-shi-yong-kafka-fa-song-xiao-xi/8.3.1-zai-spring-zhong-she-zhi-kafka